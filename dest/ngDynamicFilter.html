<div>

    <div ng-repeat="filter in filters">

        <select ng-model="o" ng-change="filter.onSelect(o)">
            <option ng-value="o" ng-repeat="o in options">{{ o.label }}</option>
        </select>

        <span ng-repeat="value in filter.values">
            <select ng-model="o" ng-change="value.onSelect(o)">
                <option ng-value="o" ng-repeat="o in filter.getOptions(options)">{{ o }}</option>
            </select>
        </span>

        <a ng-show="filter.canAddValue()" ng-click="filter.addValue()">+</a>

    </div>

    <a ng-click="addFilter()">add filter</a>
    <a ng-click="removeFilter()">remove filter</a>

</div>
